<header class="bg-gray-100 text-red-500 font-semibold p-4 shadow-md">
  <nav class="container mx-auto">
    <ul class="flex flex-wrap items-center justify-between">
      <li>
        <a
          href="/"
          class="<%= (currentPage === '/') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
          >AirBnB</a>
      </li>

      <!-- Hamburger Menu Icon (Hidden on larger screens) -->
      <button id="menu-toggle" class="md:hidden focus:outline-none hover:bg-gray-200 cursor-pointer rounded">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>

      <!-- Navigation Links (Hidden on smaller screens) -->
      <div id="nav-links" class="md:flex space-x-4 items-center hidden">
        <% if(isLoggedIn) { %>
          <% if(user && user.userType === 'guest') { %>
            <li>
              <a
                href="/houses"
                class="<%= (currentPage === '/houses') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
                >Houses</a>
            </li>
            <li>
              <a
                href="/bookings"
                class="<%= (currentPage === '/bookings') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
                >Bookings</a>
            </li>
            <li>
              <a
                href="/favourite-list"
                class="<%= (currentPage === '/favourite-list') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
                >Favourites</a>
            </li>
            <li>
              <a
              href="/account"
              class="<%= (currentPage === '/account') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
              >
              Hey, <%= user.firstName %>
              </a>
            </li>

          <% } else { %>
            <li>
              <a
                href="/host/house-registration"
                class="<%= (currentPage === '/host/house-registration') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
                >Register House</a>
            </li>
            <li>
              <a
                href="/host/host-house-list"
                class="<%= (currentPage === '/host-house-list') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
                >Host Houses</a>
            </li>
            <li>
              <a
              href="/account"
              class="<%= (currentPage === '/account') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
              >
              Hey, <%= user.firstName %>
              </a>
            </li>
          <% } %>
        <% } %> 
        <% if(!isLoggedIn) { %>
        <li>
          <a
            href="/login"
            class="<%= (currentPage === '/login') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
            >Sign In</a>
        </li>
        <li>
          <a
            href="/signup"
            class="<%= (currentPage === '/signup') ? 'bg-white text-red-500 shadow-md' : 'hover:bg-red-200 hover:text-red-700' %> py-2 px-4 rounded-full transition duration-300"
            >Sign Up</a>
        </li>
        <% } else { %>
        
          <form action="/logout" method="post">
            <li>
            <button
              class="bg-red-500 text-white shadow-md hover:bg-red-700 py-2 px-4 rounded-full transition duration-300"
            >
              Logout
            </button>
          </li>
          </form>
        
        <% } %>
      </div>
    </ul>
  </nav>
</header>

<script>
  const menuToggle = document.getElementById('menu-toggle');
const navLinks = document.getElementById('nav-links');

menuToggle.addEventListener('click', () => {
  navLinks.classList.toggle('hidden');  // This correctly toggles visibility with Tailwind
});

</script>

<style>
  @media (max-width: 768px) {
    #nav-links {
      position: fixed; /* Change to fixed positioning */
      top: 10%;           /* Position from the top */
      left: 0;
      width: 100%;
      background-color: rgba(249, 250, 251, 0.95); /* bg-gray-100 with opacity */
      padding: 1rem;
      flex-direction: column;
      align-items: center;
      text-align: center;
      z-index: 10;
    }

    #nav-links.hidden {
      display: none;
    }

    #nav-links li {
      margin-bottom: 1rem;
    }
  }

  .container ul {
    flex-wrap: nowrap;
  }

  .container ul li a {
    white-space: nowrap;
  }
</style>